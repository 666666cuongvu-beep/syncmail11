<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Quáº£n lÃ½ danh sÃ¡ch Email</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f1f1f1;
      text-align: center;
      padding: 20px;
    }

    textarea, input {
      width: 300px;
      padding: 10px;
      margin: 10px auto;
      display: block;
    }

    button {
      padding: 10px 20px;
      margin: 5px;
      font-size: 16px;
      cursor: pointer;
    }

    .blue { background-color: #007bff; color: white; border: none; }
    .red { background-color: #dc3545; color: white; border: none; }
    .yellow { background-color: #ffc107; border: none; }
    .green { background-color: #28a745; color: white; border: none; }
    .small-input {
      width: 200px;
    }
  </style>
</head>
<body>

  <h2>ğŸ“§ Quáº£n lÃ½ danh sÃ¡ch Email Online<br>(Tá»± Lá»c & LÆ°u)</h2>

  <textarea id="emailInput" rows="5" placeholder="DÃ¡n email, text rÃ¡c, phÃ¢n cÃ¡ch báº¥t ká»³ (| ; , space ...)"></textarea>

  <button class="blue" onclick="addEmails()">â• ThÃªm Email VÃ o Danh SÃ¡ch</button>
  <button class="red" onclick="clearEmails()">ğŸ—‘ï¸ XÃ³a Danh SÃ¡ch Email</button>

  <input type="text" id="emailDisplay" placeholder="Email sáº½ xuáº¥t hiá»‡n á»Ÿ Ä‘Ã¢y" class="small-input" readonly />
  <p>ğŸ“Š Sá»‘ email cÃ²n láº¡i: <span id="emailCount">0</span></p>

  <button class="yellow" onclick="clearLog()">ğŸ§¹ Clear Log Copy</button>
  <button class="green" onclick="copyEmails()">ğŸ“‹ Láº¥y & Copy Email</button>

  <script>
    let emailList = [];

    function extractEmails(text) {
      const cleaned = text.replace(/[,|; \n\r]+/g, " ");
      const parts = cleaned.split(" ");
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return parts.filter(e => emailRegex.test(e.toLowerCase()));
    }

    function addEmails() {
      const input = document.getElementById("emailInput").value;
      const newEmails = extractEmails(input);
      newEmails.forEach(email => {
        if (!emailList.includes(email)) {
          emailList.push(email);
        }
      });
      updateDisplay();
    }

    function clearEmails() {
      emailList = [];
      updateDisplay();
    }

    function updateDisplay() {
      const emailDisplay = document.getElementById("emailDisplay");
      const count = document.getElementById("emailCount");
      emailDisplay.value = emailList.join(", ");
      count.innerText = emailList.length;
    }

    function clearLog() {
      document.getElementById("emailDisplay").value = "";
    }

    function copyEmails() {
      const text = emailList.join(", ");
      navigator.clipboard.writeText(text).then(() => {
        alert("ÄÃ£ copy danh sÃ¡ch email!");
      });
    }
  </script>

</body>
</html>